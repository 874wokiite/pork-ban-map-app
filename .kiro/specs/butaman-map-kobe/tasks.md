# Implementation Tasks - 神戸豚饅マップアプリケーション

## タスク概要

設計文書に基づいて神戸豚饅サミット参加店舗のマップアプリケーションを実装する。Next.js App Router + Google Maps APIを使用し、Netlifyでホスティングする。

## フェーズ1: プロジェクト基盤構築

### タスク1-1: プロジェクト初期設定
**優先度**: 🔴 最高
**ステータス**: 完了
**推定工数**: 2時間

#### 作業内容
- [x] Google Maps API キー取得・設定
- [x] 環境変数ファイル作成（`.env.local`）
- [x] Next.js設定ファイル更新（Netlify対応）
- [x] Netlify設定ファイル作成（`netlify.toml`）

#### 受入基準
- Google Maps APIが正常に読み込まれる
- 開発サーバーが起動し基本地図が表示される
- 環境変数が適切に設定されている

### タスク1-2: 型定義とデータ構造
**優先度**: 🔴 最高
**ステータス**: 完了
**推定工数**: 1時間

#### 作業内容
- [x] `types/store.ts` - Store interface定義
- [x] `types/map.ts` - MapState interface定義
- [x] データ型のエクスポート設定

#### 受入基準
- 型定義ファイルがエラーなくコンパイルされる
- 設計文書通りのインターフェースが定義されている

### タスク1-3: 静的データ準備
**優先度**: 🟡 高
**ステータス**: 完了
**推定工数**: 3時間

#### 作業内容
- [x] 豚饅サミット店舗データの収集・整理
- [x] `public/data/stores.json` ファイル作成
- [x] 座標データの取得（Google Geocoding API）
- [x] サンプル画像の準備

#### 受入基準
- 全店舗の基本情報（名前、住所、座標）が含まれている
- JSONデータが有効な形式で作成されている
- 最低5店舗分のデータが用意されている

## フェーズ2: コア機能実装

### タスク2-1: 基本地図コンポーネント
**優先度**: 🔴 最高
**ステータス**: 未着手
**推定工数**: 4時間

#### 作業内容
- [ ] `components/MapContainer.tsx` 作成
- [ ] Google Maps JavaScript API統合
- [ ] 基本地図表示（神戸市中心）
- [ ] レスポンシブ対応

#### 受入基準
- 神戸市中心の地図が表示される
- ズーム・パン操作が正常に動作する
- モバイル・デスクトップで適切に表示される

### タスク2-2: 店舗マーカー表示
**優先度**: 🔴 最高
**ステータス**: 未着手
**推定工数**: 3時間

#### 作業内容
- [ ] `components/StoreMarker.tsx` 作成
- [ ] 店舗データの読み込み
- [ ] マーカーの地図上配置
- [ ] カスタムマーカーアイコン設定

#### 受入基準
- 全店舗にマーカーが表示される
- マーカーが正確な位置に配置されている
- マーカークリックイベントが発生する

### タスク2-3: 店舗詳細モーダル
**優先度**: 🔴 最高
**ステータス**: 未着手
**推定工数**: 5時間

#### 作業内容
- [ ] `components/StoreDetail/StoreModal.tsx` 作成
- [ ] `components/StoreDetail/StoreInfo.tsx` 作成
- [ ] モーダル表示・非表示制御
- [ ] 店舗情報表示（必須項目）

#### 受入基準
- マーカークリックでモーダルが開く
- 店名、住所、営業時間、価格が表示される
- モーダル外クリックで閉じる

## フェーズ3: UI/UX強化

### タスク3-1: レスポンシブデザイン
**優先度**: 🟡 高
**ステータス**: 未着手
**推定工数**: 3時間

#### 作業内容
- [ ] Tailwind CSSクラスの最適化
- [ ] モバイル向けUIコンポーネント調整
- [ ] タッチ操作対応の確認

#### 受入基準
- スマートフォンで快適に操作できる
- タブレット・デスクトップで適切に表示される
- 画面回転に対応している

### タスク3-2: ダークモード対応
**優先度**: 🟢 中
**ステータス**: 未着手
**推定工数**: 2時間

#### 作業内容
- [ ] CSS custom properties設定
- [ ] ダークモード用カラーパレット適用
- [ ] システム設定自動検知

#### 受入基準
- システムのダークモード設定に連動する
- 地図・モーダルが適切にテーマ変更される
- 視認性が確保されている

### タスク3-3: ローディング・エラーハンドリング
**優先度**: 🟡 高
**ステータス**: 未着手
**推定工数**: 2時間

#### 作業内容
- [ ] `components/ui/LoadingSpinner.tsx` 作成
- [ ] `components/common/ErrorBoundary.tsx` 作成
- [ ] APIエラー時の表示制御

#### 受入基準
- 地図読み込み中にスピナーが表示される
- API呼び出し失敗時にエラーメッセージが表示される
- エラー発生時にアプリがクラッシュしない

## フェーズ4: 機能拡張

### タスク4-1: 店舗詳細情報拡張
**優先度**: 🟢 中
**ステータス**: 未着手
**推定工数**: 3時間

#### 作業内容
- [ ] 豚饅の特徴タグ表示
- [ ] `components/StoreDetail/StoreImage.tsx` 作成
- [ ] Googleマップリンク機能
- [ ] 電話番号・ウェブサイトリンク

#### 受入基準
- 特徴タグが視覚的に分かりやすく表示される
- 外部リンクが新しいタブで開く
- 画像が適切にサイズ調整される

### タスク4-2: 現在地機能
**優先度**: 🟢 中
**ステータス**: 未着手
**推定工数**: 2時間

#### 作業内容
- [ ] Geolocation API統合
- [ ] 現在地ボタン追加
- [ ] 位置情報アクセス許可ハンドリング

#### 受入基準
- ユーザーの位置が地図上に表示される
- 位置情報拒否時に適切なメッセージが表示される
- 現在地ボタンで地図中心が移動する

### タスク4-3: パフォーマンス最適化
**優先度**: 🟢 中
**ステータス**: 未着手
**推定工数**: 2時間

#### 作業内容
- [ ] 画像の最適化とWebP対応
- [ ] マーカークラスタリング実装
- [ ] 遅延読み込みの実装

#### 受入基準
- 初期表示が3秒以内に完了する
- 多数のマーカーでもスムーズに動作する
- 画像読み込みが段階的に行われる

## フェーズ5: デプロイと仕上げ

### タスク5-1: Netlifyデプロイ設定
**優先度**: 🔴 最高
**ステータス**: 未着手
**推定工数**: 2時間

#### 作業内容
- [ ] `netlify.toml` 設定ファイル作成
- [ ] ビルド設定の確認
- [ ] 環境変数の設定（Netlifyダッシュボード）
- [ ] デプロイテスト

#### 受入基準
- 静的サイトが正常にビルドされる
- Netlifyで正常にホスティングされる
- 環境変数が適切に設定されている

### タスク5-2: 最終テスト・調整
**優先度**: 🟡 高
**ステータス**: 未着手
**推定工数**: 3時間

#### 作業内容
- [ ] 全機能の動作確認
- [ ] 複数デバイスでのテスト
- [ ] パフォーマンス確認
- [ ] 最終的なUI調整

#### 受入基準
- 要件定義の全項目が満たされている
- デスクトップ・モバイルで正常に動作する
- ユーザビリティに問題がない

### タスク5-3: ドキュメント整備
**優先度**: 🟢 中
**ステータス**: 未着手
**推定工数**: 1時間

#### 作業内容
- [ ] README.md更新
- [ ] 開発環境セットアップ手順
- [ ] デプロイ手順の記録

#### 受入基準
- 他の開発者が環境構築できる
- デプロイ手順が明確に記載されている
- プロジェクトの概要が分かりやすく説明されている

## 合計推定工数
**約32時間**（4-5日間の開発期間を想定）

## 実装順序の推奨
1. **フェーズ1** → **フェーズ2** → **フェーズ5-1（デプロイ）**
2. **フェーズ3** → **フェーズ4** → **フェーズ5-2,5-3（仕上げ）**

## 依存関係
- タスク1-1 → 全てのタスクの前提
- タスク1-2 → タスク2-2, 2-3
- タスク1-3 → タスク2-2
- タスク2-1 → タスク2-2
- タスク2-2 → タスク2-3